# LangChain_and_LlamaIndex

## 1. Activate Prior Knowledge
- Какво знаете за архитектурите на системи за обработка на естествен език (NLP) и ролята на вериги от модели?
- Как бихте интегрирали различни източници на данни и модели в една цялостна AI система?
- Какво разбирате под индексиране на големи текстови корпуси и защо е важно за бързото търсене и извличане на информация?

## 2. Overview
LangChain и LlamaIndex са две съвременни библиотеки, които улесняват изграждането на сложни AI приложения, базирани на големи езикови модели (LLM). LangChain предоставя рамка за създаване на вериги от модели и инструменти, които позволяват интеграция на различни компоненти като LLM, външни API-та и бази данни. Това позволява изграждането на гъвкави и мащабируеми NLP системи.

LlamaIndex (преди известен като GPT Index) е библиотека, фокусирана върху ефективното индексиране и извличане на информация от големи текстови корпуси, като улеснява взаимодействието между LLM и структурирани или неструктурирани данни. Тя служи като мост между суровите данни и езиковите модели, оптимизирайки процеса на търсене и отговор.

Комбинирането на LangChain и LlamaIndex позволява създаването на интелигентни системи, които могат да обработват сложни заявки, да извличат релевантна информация и да отговарят по контекстуален и динамичен начин. Това е ключово за приложения като интелигентни чатботове, системи за въпроси и отговори и автоматизирани анализи.

## 3. Key Concepts
- **Large Language Model (LLM)** – Модел за обработка на естествен език, обучен върху огромни текстови корпуси, способен да генерира и разбира човешки език. Можете да си го представите като много добре обучен асистент, който „разбира“ текст.
- **Chain (Верига)** – Последователност от стъпки или модели, които обработват входни данни и предават резултата на следващия елемент. Аналогия: конвейерна линия, където всяка станция добавя стойност.
- **Index (Индекс)** – Структура за бързо търсене и извличане на информация от голям обем данни. Мислете за индекс в книга, който ви помага бързо да намерите нужната страница.
- **Prompt Engineering** – Процесът на създаване и оптимизиране на входни заявки към LLM, за да се получат точни и релевантни отговори.
- **Retrieval-Augmented Generation (RAG)** – Техника, при която LLM използва външни източници на информация (чрез индекси) за по-точно и обосновано генериране на отговори.
- **Document Loader** – Компонент, който зарежда и подготвя текстови документи за индексиране и обработка.
- **Agent** – Автономен компонент, който взема решения и избира действия въз основа на входни данни и контекст.

## 4. Step-by-step Learning Path
1. **Запознаване с основите на LLM и LangChain**
   - Фокус: Разберете какво представляват LLM и как LangChain организира вериги от модели.
   - Задача: Инсталирайте LangChain и създайте проста верига с OpenAI GPT модел.
   - Въпроси: Какво е основната функция на LangChain? Какво представлява верига от модели?

2. **Изучаване на LlamaIndex и концепцията за индексиране**
   - Фокус: Разберете как LlamaIndex създава индекси от документи и ги използва за търсене.
   - Задача: Заредете текстов документ и създайте индекс с LlamaIndex.
   - Въпроси: Какво е индекс и защо е важен? Как LlamaIndex подобрява взаимодействието с LLM?

3. **Интегриране на LangChain с LlamaIndex**
   - Фокус: Научете как да комбинирате вериги и индекси за по-сложни приложения.
   - Задача: Създайте верига, която използва LlamaIndex за извличане на информация и LLM за генериране на отговор.
   - Въпроси: Как LangChain и LlamaIndex работят заедно? Каква е ролята на Retrieval-Augmented Generation?

4. **Оптимизация на prompt и обработка на различни типове данни**
   - Фокус: Научете техники за подобряване на качеството на отговорите чрез prompt engineering.
   - Задача: Експериментирайте с различни prompt шаблони и наблюдавайте резултатите.
   - Въпроси: Как prompt engineering влияе на резултатите? Как да адаптираме prompt към различни задачи?

5. **Разработка на реален проект**
   - Фокус: Изградете приложение, което използва LangChain и LlamaIndex за интерактивно търсене и отговори.
   - Задача: Създайте чатбот, който отговаря на въпроси, базирани на набор от документи.
   - Въпроси: Какви са предизвикателствата при интеграцията? Как да осигурим мащабируемост и надеждност?

## 5. Examples

### Пример 1: Създаване на проста верига с LangChain и GPT
```python
from langchain.chains import SimpleChain
from langchain.llms import OpenAI

llm = OpenAI(api_key="YOUR_API_KEY")
chain = SimpleChain(llm=llm)

response = chain.run("Какво е LangChain?")
print(response)
```

### Пример 2: Индексиране на документ с LlamaIndex и търсене
```python
from llama_index import SimpleDirectoryReader, GPTSimpleVectorIndex

documents = SimpleDirectoryReader('data/').load_data()
index = GPTSimpleVectorIndex(documents)

query = "Какви са основните функции на LangChain?"
response = index.query(query)
print(response)
```

### Пример 3: Комбиниране на LangChain и LlamaIndex за RAG
```python
from langchain.chains import RetrievalQA
from langchain.llms import OpenAI
from llama_index import GPTSimpleVectorIndex

documents = SimpleDirectoryReader('data/').load_data()
index = GPTSimpleVectorIndex(documents)

llm = OpenAI(api_key="YOUR_API_KEY")
retriever = index.as_retriever()

qa_chain = RetrievalQA(llm=llm, retriever=retriever)
answer = qa_chain.run("Обяснете как LangChain помага при изграждането на AI системи.")
print(answer)
```

## 6. Common Pitfalls
- **Прекалено сложни вериги без ясна цел** – Водят до трудно поддържане и неефективност. Решение: започнете с прости вериги и ги разширявайте постепенно.
- **Недостатъчно или некачествено индексиране на документи** – Влошава качеството на търсенето и отговорите. Решение: използвайте подходящи loaders и почиствайте данните.
- **Лошо формулирани prompt-и** – Водят до неточни или неясни отговори. Решение: практикувайте prompt engineering и тествайте различни варианти.
- **Игнориране на ограниченията на LLM** – Например, дължина на контекста или капацитет за обработка. Решение: разделяйте големи текстове и използвайте индексиране.
- **Недостатъчно тестване на интеграцията** – Може да доведе до неочаквани грешки. Решение: пишете модулни тестове и валидирайте всеки компонент.

## 7. Short Retrieval Quiz
1. Каква е основната цел на LangChain?
2. Какво представлява LlamaIndex и как помага на LLM?
3. Какво е Retrieval-Augmented Generation?
4. Защо е важно prompt engineering?
5. Какво означава "chain" в контекста на LangChain?
6. Какви типове данни могат да бъдат индексирани с LlamaIndex?
7. Какво е основното предизвикателство при комбиниране на LangChain и LlamaIndex?

## 8. Quick Recap
- LangChain организира и управлява вериги от модели и инструменти за NLP приложения.
- LlamaIndex създава ефективни индекси за бързо извличане на информация от големи текстови корпуси.
- Комбинацията от LangChain и LlamaIndex позволява изграждането на интелигентни, контекстуално осведомени AI системи.
- Prompt engineering е ключов за получаване на качествени резултати от LLM.
- Retrieval-Augmented Generation подобрява точността на отговорите чрез достъп до външни данни.
- Практическото приложение изисква внимание към качеството на данните и ясна архитектура.
- Честото тестване и оптимизация са необходими за надеждност и мащабируемост.

## 9. Spaced Review Plan

| Време след учене | Прегледен въпрос/задача                                   |
|------------------|-----------------------------------------------------------|
| 1 ден            | Обяснете с прости думи ролята на LangChain и LlamaIndex. |
| 3 дни            | Създайте малка верига с LangChain и заредете индекс с LlamaIndex. |
| 1 седмица        | Опишете Retrieval-Augmented Generation и неговото приложение. |
| 1 месец          | Разработете мини проект, комбиниращ LangChain и LlamaIndex за конкретна задача. |