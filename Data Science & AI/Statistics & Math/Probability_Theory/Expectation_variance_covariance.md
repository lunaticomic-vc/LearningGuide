# Expectation_variance_covariance

## 1. Activate Prior Knowledge
- Какво представлява средната стойност (expectation) и как бихте я използвали при анализ на данни в AI системи?
- Как разбирате разсейването или вариацията (variance) на случайна променлива и защо е важно да я измерваме?
- Какво е ковариация (covariance) и как тя може да помогне при моделиране на зависимости между променливи в софтуерни системи?

## 2. Overview
Очакването (expectation) е фундаментална концепция в теорията на вероятностите и статистиката, която описва средната или очакваната стойност на случайна променлива. В контекста на AI и софтуерното инженерство, очакването служи като мярка за централната тенденция на данните или резултатите от модели.

Вариансът (variance) измерва разсейването на стойностите около очакването. Той показва колко са разпръснати данните, което е ключово за оценка на стабилността и надеждността на модели и алгоритми.

Ковариацията (covariance) описва как две случайни променливи се променят заедно. Тази мярка е основа за разбиране на взаимовръзки между характеристики, което е от съществено значение при изграждане на модели за машинно обучение, като например линейна регресия и PCA.

## 3. Key Concepts
- **Expectation (Очакване)** – Средната стойност на случайна променлива, която показва нейния "център" или средна тенденция. Можем да си го представим като балансна точка на разпределението.
- **Variance (Варианс)** – Мярка за разсейването на данните около очакването. Колкото по-голям е вариансът, толкова по-разпръснати са стойностите.
- **Covariance (Ковариация)** – Мярка за това как две случайни променливи се променят заедно. Положителна ковариация означава, че променливите се увеличават или намаляват заедно, а отрицателна – че се движат в противоположни посоки.
- **Random Variable (Случайна променлива)** – Променлива, която приема различни стойности според вероятностно разпределение.
- **Probability Distribution (Вероятностно разпределение)** – Функция, която описва вероятностите за различните стойности на случайна променлива.

## 4. Step-by-step Learning Path
1. **Фокус:** Разбиране на очакването като средна стойност  
   **Задача:** Изчислете очакването на дискретна случайна променлива с дадено вероятностно разпределение.  
   **Въпроси:** Какво представлява очакването? Защо е полезно да го изчисляваме?

2. **Фокус:** Изчисляване на варианс и разбиране на разсейването  
   **Задача:** Изчислете варианса на същата случайна променлива.  
   **Въпроси:** Как вариансът се свързва с очакването? Какво ни казва голям или малък варианс?

3. **Фокус:** Изследване на ковариацията между две случайни променливи  
   **Задача:** Изчислете ковариацията между две променливи с дадени данни.  
   **Въпроси:** Как ковариацията показва връзката между две променливи? Какво означава положителна и отрицателна ковариация?

4. **Фокус:** Прилагане в AI – използване на очакване, варианс и ковариация при моделиране  
   **Задача:** Имплементирайте функция, която изчислява тези статистики от реални данни (например, набор от характеристики на изображения).  
   **Въпроси:** Как тези статистики помагат при оптимизация и оценка на модели?

## 5. Examples

### Пример 1: Изчисляване на очакване и варианс
```python
import numpy as np

# Дискретна случайна променлива с вероятности
values = np.array([1, 2, 3, 4])
probabilities = np.array([0.1, 0.3, 0.4, 0.2])

expectation = np.sum(values * probabilities)
variance = np.sum(probabilities * (values - expectation)**2)

print(f"Expectation: {expectation}")
print(f"Variance: {variance}")
```

### Пример 2: Изчисляване на ковариация между две променливи
```python
x = np.array([1, 2, 3, 4])
y = np.array([2, 4, 6, 8])

covariance = np.cov(x, y, bias=True)[0, 1]
print(f"Covariance: {covariance}")
```

### Пример 3: Използване на ковариационна матрица в машинно обучение
```python
data = np.array([[1, 2],
                 [2, 4],
                 [3, 6],
                 [4, 8]])

cov_matrix = np.cov(data.T, bias=True)
print("Covariance matrix:")
print(cov_matrix)
```

## 6. Common Pitfalls
- **Бъркане между варианс и стандартно отклонение** – Вариансът е в квадратни единици, докато стандартното отклонение е в същите единици като данните. Използвайте правилната мярка според контекста.
- **Неправилно изчисляване на ковариация** – Забравяне да се центрират данните около средната стойност води до грешки.
- **Използване на несъответстващи данни за ковариация** – Ковариацията трябва да се изчислява между две случайни променливи с еднакъв брой наблюдения.
- **Игнориране на скалата на променливите** – Ковариацията зависи от мащаба на променливите, което може да затрудни интерпретацията без нормализация.

## 7. Short Retrieval Quiz
1. Какво представлява очакването на случайна променлива?
2. Как се изчислява вариансът и какво измерва той?
3. Какво означава положителна ковариация между две променливи?
4. Защо е важно да центрираме данните при изчисляване на ковариация?
5. Каква е разликата между ковариация и корелация?
6. Как вариансът влияе на стабилността на машинен модел?
7. Какво е ковариационна матрица и за какво се използва?

## 8. Quick Recap
- Очакването е средната стойност на случайна променлива и показва централната тенденция.
- Вариансът измерва разсейването на данните около очакването и е ключов за оценка на стабилността.
- Ковариацията показва как две променливи се променят заедно и е основа за моделиране на зависимости.
- Правилното изчисляване изисква центриране на данните и съвпадение на размерите.
- В AI ковариационната матрица е важен инструмент за анализ на многомерни данни.
- Разбирането на тези статистики подобрява интерпретацията и оптимизацията на модели.
- Избягвайте объркване между варианс и стандартно отклонение.

## 9. Spaced Review Plan

| Време след учене | Промпт за преговор                                      |
|------------------|---------------------------------------------------------|
| 1 ден            | Обяснете с прости думи какво е очакване и защо е важно.|
| 3 дни            | Изчислете варианс и ковариация за малък набор от данни.|
| 1 седмица        | Опишете как ковариацията се използва в машинно обучение.|
| 1 месец          | Прегледайте и сравнете очакване, варианс и ковариация. |