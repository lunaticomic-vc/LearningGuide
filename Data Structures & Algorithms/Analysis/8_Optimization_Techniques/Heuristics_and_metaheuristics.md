# Heuristics_and_metaheuristics

## 1. Activate Prior Knowledge
- Какво разбирате под термина „евристика“ и как бихте я приложили в контекста на решаване на сложни проблеми в изкуствения интелект?
- Кои алгоритми или методи познавате, които използват приближени решения вместо точни, и защо това е важно?
- Какво мислите, че е разликата между евристичен метод и метаевристичен метод в оптимизацията?

## 2. Overview
Евристиките и метаевристиките са ключови подходи за решаване на сложни оптимизационни и търсещи задачи, при които класическите алгоритми са неефективни или невъзможни за изпълнение в разумно време. Евристиката представлява практично правило или стратегия, която води до добро, макар и не винаги оптимално, решение. Те са особено полезни в системи с голямо пространство на възможни решения, където изчерпателното търсене е непрактично.

Метаевристиките са по-общи рамки, които управляват и насочват евристични процедури, за да подобрят качеството на решенията и да избягват локални оптимуми. Те са вдъхновени от природни процеси като еволюция, социално поведение на животни или физични явления и се прилагат широко в областта на изкуствения интелект, софтуерното инженерство и операционните изследвания.

Тези методи са важни, защото позволяват ефективно намиране на решения в реални приложения като планиране, разпределение на ресурси, машинно обучение и др., където точните алгоритми са прекалено бавни или неефективни.

## 3. Key Concepts
- **Heuristic (Евристика)** – Практическо правило или метод, който помага за намиране на добро решение бързо, но без гаранция за оптималност. Може да се сравни с „кратък път“ в лабиринт, който не гарантира най-краткия път, но води до изхода бързо.
- **Metaheuristic (Метаевристика)** – Високо ниво алгоритмична рамка, която управлява и подобрява евристични методи чрез стратегии като случайност, адаптация и памет. Аналогично на треньор, който насочва спортистите (евристиките) да подобрят представянето си.
- **Local Optimum (Локален оптимум)** – Решение, което е по-добро от всички съседни решения, но не е най-доброто възможно глобално решение.
- **Exploration vs. Exploitation (Изследване срещу използване)** – Баланс между търсене на нови решения (exploration) и подобряване на вече намерени добри решения (exploitation).
- **Population-based methods (Методи базирани на популация)** – Метаевристики, които работят с множество решения едновременно, като генетични алгоритми.
- **Single-solution methods (Методи с едно решение)** – Метаевристики, които подобряват едно решение последователно, като симулирано отгряване (simulated annealing).

## 4. Step-by-step Learning Path
1. **Запознайте се с основните евристики**  
   - Фокус: Разберете как работят прости евристики като жаден алгоритъм (greedy).  
   - Практическа задача: Имплементирайте жаден алгоритъм за проблема на раницата (knapsack problem).  
   - Въпроси: Каква е силата и слабостта на жадния подход? Кога той може да не намери оптимално решение?

2. **Изучете локално търсене и подобрения**  
   - Фокус: Разберете концепцията за локален оптимум и методи за избягването му.  
   - Практическа задача: Имплементирайте алгоритъм за локално търсене върху задача за пътуващ търговец (TSP).  
   - Въпроси: Какво представлява локалният оптимум? Какви стратегии могат да помогнат да се избегне?

3. **Запознайте се с метаевристики**  
   - Фокус: Научете основите на генетични алгоритми и симулирано отгряване.  
   - Практическа задача: Имплементирайте прост генетичен алгоритъм за оптимизация на функция.  
   - Въпроси: Как генетичните алгоритми използват популация? Какво е ролята на мутацията?

4. **Изследвайте баланс между изследване и използване**  
   - Фокус: Разберете важността на баланса exploration-exploitation.  
   - Практическа задача: Модифицирайте симулираното отгряване да променя температурата по различен начин.  
   - Въпроси: Как промените в температурата влияят на търсенето? Каква е ролята на случайността?

5. **Приложете метаевристики в реален проблем**  
   - Фокус: Изберете реален инженеринг проблем (например планиране на задачи) и приложете метаевристика.  
   - Практическа задача: Оптимизирайте разпределението на ресурси с генетичен алгоритъм.  
   - Въпроси: Какви предизвикателства срещнахте при настройването на параметрите? Как оценявате качеството на решенията?

## 5. Examples

### Пример 1: Жаден алгоритъм за задача за раницата (knapsack)
```python
def greedy_knapsack(weights, values, capacity):
    ratio = [(v/w, w, v) for w, v in zip(weights, values)]
    ratio.sort(key=lambda x: x[0], reverse=True)
    total_value = 0
    total_weight = 0
    for r, w, v in ratio:
        if total_weight + w <= capacity:
            total_weight += w
            total_value += v
    return total_value

weights = [10, 20, 30]
values = [60, 100, 120]
capacity = 50
print(greedy_knapsack(weights, values, capacity))  # Output: 220
```

### Пример 2: Симулирано отгряване за минимизиране функция
```python
import math
import random

def simulated_annealing(f, x0, temp=1000, cooling_rate=0.95, min_temp=1):
    current_x = x0
    current_f = f(current_x)
    while temp > min_temp:
        new_x = current_x + random.uniform(-1, 1)
        new_f = f(new_x)
        if new_f < current_f or random.random() < math.exp((current_f - new_f) / temp):
            current_x, current_f = new_x, new_f
        temp *= cooling_rate
    return current_x, current_f

f = lambda x: (x - 3)**2
best_x, best_f = simulated_annealing(f, x0=0)
print(f"Best solution: x={best_x}, f(x)={best_f}")
```

### Пример 3: Генетичен алгоритъм за оптимизация на битова верига
```python
import random

def fitness(individual):
    return sum(individual)

def selection(population):
    return max(population, key=fitness)

def crossover(parent1, parent2):
    point = random.randint(1, len(parent1)-1)
    return parent1[:point] + parent2[point:]

def mutate(individual, mutation_rate=0.01):
    return [bit if random.random() > mutation_rate else 1-bit for bit in individual]

population = [[random.randint(0,1) for _ in range(10)] for _ in range(20)]

for generation in range(50):
    parent1 = selection(population)
    parent2 = selection(population)
    child = crossover(parent1, parent2)
    child = mutate(child)
    population.append(child)
    population = sorted(population, key=fitness, reverse=True)[:20]

best = selection(population)
print(f"Best individual: {best} with fitness {fitness(best)}")
```

## 6. Common Pitfalls
- **Прекалено доверие на евристиката** – Евристиките не гарантират оптимални решения; винаги проверявайте резултатите и използвайте метаевристики за подобрение.
- **Локални оптимуми** – Много алгоритми се „заклещват“ в локални оптимуми; използвайте техники като случайни рестартирания или метаевристики за избягване.
- **Лош избор на параметри** – Настройването на параметрите (напр. температура, скорост на мутация) е критично; използвайте експерименти и автоматизирани методи за настройка.
- **Прекалено усложняване на модела** – Понякога простите евристики са достатъчни; не усложнявайте без нужда.
- **Игнориране на времеви ограничения** – Евристиките са полезни, когато времето е ограничено; планирайте времето за изпълнение и спрете алгоритъма навреме.

## 7. Short Retrieval Quiz
1. Какво представлява евристиката и каква е нейната основна цел?
2. Каква е разликата между евристика и метаевристика?
3. Какво е локален оптимум и защо е проблем?
4. Как метаевристиките помагат да се избегнат локални оптимуми?
5. Какво означава балансът между exploration и exploitation?
6. Назовете два примера за метаевристики.
7. Защо е важно правилното настройване на параметрите в метаевристичните алгоритми?

## 8. Quick Recap
- Евристиките са практични правила за бързо намиране на добри решения, без гаранция за оптималност.
- Метаевристиките са рамки, които управляват евристики, за да подобрят качеството на решенията и да избегнат локални оптимуми.
- Локалният оптимум е решение, което е най-добро в своята околност, но не и глобално.
- Балансът между изследване (exploration) и използване (exploitation) е ключов за ефективното търсене.
- Популационните и едно-решенческите методи са два основни типа метаевристики.
- Практическото приложение изисква внимателно настройване на параметрите и разбиране на спецификата на проблема.
- Евристиките и метаевристиките са незаменими в съвременните AI и инженерни системи за решаване на сложни задачи.

## 9. Spaced Review Plan

| Време след учене | Прегледна задача                                         | Цел на прегледа                          |
|-------------------|---------------------------------------------------------|-----------------------------------------|
| 1 ден             | Преговор на основните термини и концепции               | Закрепване на базови знания             |
| 3 дни             | Имплементиране на проста евристика и отговор на въпроси | Активно възстановяване и практика       |
| 1 седмица         | Анализ на пример с метаевристика и идентифициране на параметри | Разбиране на приложението и настройката |
| 1 месец           | Решаване на нов проблем с избрана метаевристика          | Дългосрочно задържане и трансфер на знания |