# Fast_Fourier_Transform_basics

## 1. Activate Prior Knowledge
- Какво представлява дискретната Фуриева трансформация (DFT) и защо е важна в обработката на сигнали?
- Как бихте използвали преобразувания на сигнали в контекста на машинно обучение или аудио/визуална обработка?
- Какви предизвикателства очаквате при изчисляването на Фуриева трансформация за големи набори от данни?

## 2. Overview
Бързата Фуриева трансформация (FFT) е алгоритъм, който ефективно изчислява дискретната Фуриева трансформация (DFT) на даден сигнал. DFT преобразува дискретен времеви сигнал в спектрално представяне, което показва амплитудата и фазата на различните честоти, съдържащи се в сигнала. FFT значително намалява изчислителната сложност от O(N²) до O(N log N), което я прави практична за реални приложения.

В контекста на софтуерното инженерство и изкуствения интелект, FFT се използва широко за обработка на аудио, изображения, времеви серии и за извличане на характеристики, които са важни за моделиране и анализ. Тя е основен инструмент в спектралния анализ, филтрирането и компресията на данни.

Разбирането на FFT е ключово за всеки, който иска да работи с цифрови сигнали или да оптимизира алгоритми, които включват честотен анализ. Тя също така служи като основа за по-сложни техники като бързи алгоритми за свиване и обработка на големи данни.

## 3. Key Concepts
- **Дискретна Фуриева Трансформация (DFT)** – математическа операция, която преобразува дискретен времеви сигнал в честотен домейн. Можем да я сравним с пречупване на светлина през призма, която разделя светлината на отделни цветове (честоти).
- **Бърза Фуриева Трансформация (FFT)** – оптимизиран алгоритъм за изчисляване на DFT с по-ниска сложност. Представете си я като интелигентен метод за сортиране на голям списък, който използва разделяй и владей подход.
- **Честотен домейн** – представяне на сигнал чрез честоти, вместо чрез времеви точки. Това е като да слушате музика и да разпознавате отделните инструменти по техния тон.
- **Комплексни числа** – използват се за представяне на амплитуда и фаза на честотните компоненти. Можете да ги мислите като вектори, които сочат в различни посоки и с различна дължина.
- **Рекурсия и разделяй и владей** – основен принцип в FFT, който разбива голям проблем на по-малки, по-лесни за решаване части.

## 4. Step-by-step Learning Path
1. **Фокус:** Разберете математическата дефиниция на DFT.  
   **Задача:** Изчислете DFT на малък сигнал (напр. [1, 2, 3, 4]) ръчно.  
   **Въпроси:** Какво представлява всяка стойност в резултата? Какво означава комплексната стойност?

2. **Фокус:** Запознайте се с концепцията за разделяй и владей.  
   **Задача:** Разделете сигнал с дължина 8 на две части и изчислете DFT на всяка.  
   **Въпроси:** Как разделянето намалява броя на изчисленията? Защо е важно сигналът да има дължина степен на 2?

3. **Фокус:** Изучете основния алгоритъм на Cooley-Tukey FFT.  
   **Задача:** Имплементирайте прост FFT алгоритъм на Python или друг език.  
   **Въпроси:** Какво е ролята на "пеперудените" операции? Как се комбинират частичните резултати?

4. **Фокус:** Приложете FFT за анализ на реален сигнал (например аудио).  
   **Задача:** Заредете аудио файл, приложете FFT и визуализирайте спектъра.  
   **Въпроси:** Какво показва спектърът? Какви честоти доминират в сигнала?

5. **Фокус:** Оптимизирайте и сравнете изпълнението на FFT с DFT.  
   **Задача:** Измерете времето за изчисление на DFT и FFT за голям сигнал.  
   **Въпроси:** Колко по-бърза е FFT? Защо това е важно в реални приложения?

## 5. Examples
### Пример 1: Ръчно изчисление на DFT за сигнал [1, 0, -1, 0]
```python
import numpy as np

x = np.array([1, 0, -1, 0])
N = len(x)
X = np.zeros(N, dtype=complex)

for k in range(N):
    for n in range(N):
        X[k] += x[n] * np.exp(-2j * np.pi * k * n / N)

print(np.round(X, 2))
```

### Пример 2: Използване на FFT от библиотеката NumPy
```python
import numpy as np
import matplotlib.pyplot as plt

x = np.sin(2 * np.pi * 5 * np.linspace(0, 1, 128))  # сигнал с честота 5 Hz
X = np.fft.fft(x)
freq = np.fft.fftfreq(len(x), d=1/128)

plt.stem(freq, np.abs(X), use_line_collection=True)
plt.title("FFT спектър")
plt.xlabel("Честота (Hz)")
plt.ylabel("Амплитуда")
plt.show()
```

### Пример 3: Анализ на аудио сигнал (с помощта на библиотеката librosa)
```python
import librosa
import numpy as np
import matplotlib.pyplot as plt

y, sr = librosa.load(librosa.ex('trumpet'))
Y = np.fft.fft(y[:2048])
freq = np.fft.fftfreq(len(Y), 1/sr)

plt.plot(freq[:1024], np.abs(Y)[:1024])
plt.title("Спектър на аудио сигнал")
plt.xlabel("Честота (Hz)")
plt.ylabel("Амплитуда")
plt.show()
```

## 6. Common Pitfalls
- **Неправилна дължина на входния сигнал:** FFT алгоритъмът най-често изисква дължина степен на 2. Ако сигналът не е такава, трябва да се допълни с нули (zero-padding).
- **Игнориране на комплексната природа на резултата:** Резултатът от FFT е комплексен, което означава, че амплитудата и фазата трябва да се интерпретират правилно.
- **Неправилно разбиране на честотната ос:** Честотите могат да бъдат положителни и отрицателни, а правилната визуализация изисква разбиране на честотния спектър.
- **Пренебрегване на нормализация:** При някои реализации резултатите трябва да се нормализират, за да се получат коректни амплитуди.
- **Използване на DFT вместо FFT за големи данни:** Това води до ненужно високи изчислителни разходи.

## 7. Short Retrieval Quiz
1. Каква е основната разлика между DFT и FFT?
2. Защо FFT е по-бърза от директното изчисление на DFT?
3. Какво означава комплексният резултат от FFT?
4. Защо е важно сигналът да има дължина степен на 2 при FFT?
5. Какво представлява "пеперудената" операция в FFT?
6. Как се използва FFT в обработката на аудио сигнали?
7. Какво е zero-padding и кога се използва?

## 8. Quick Recap
- FFT е ефективен алгоритъм за изчисляване на дискретната Фуриева трансформация.
- Тя намалява изчислителната сложност от O(N²) на O(N log N).
- FFT преобразува времеви сигнал в честотен домейн, разкривайки спектралната му структура.
- Основният метод е базиран на разделяй и владей, използвайки рекурсия и "пеперудени" операции.
- Правилната интерпретация на комплексните резултати е ключова за анализ.
- FFT изисква сигналът да има дължина степен на 2 или да се допълва с нули.
- Използва се широко в аудио, изображения, машинно обучение и други инженерни приложения.

## 9. Spaced Review Plan

| Време след учене | Промпт за преглед                                      |
|------------------|-------------------------------------------------------|
| 1 ден            | Обяснете с прости думи какво прави FFT и защо е важна.|
| 3 дни            | Опишете стъпките на алгоритъма Cooley-Tukey.          |
| 1 седмица        | Имплементирайте прост FFT и сравнете с DFT по време.  |
| 1 месец          | Приложете FFT за анализ на реален сигнал и интерпретирайте резултатите. |