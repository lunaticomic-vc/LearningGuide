# Sampling_and_estimation

## 1. Activate Prior Knowledge

- Какво разбирате под термина „извадково проучване“ и как бихте го приложили при събиране на данни за обучение на AI модел?
- Какви са предимствата и недостатъците на използването на цялата популация спрямо извадка при оценка на параметри?
- Как бихте използвали статистическа оценка, за да прецените качеството на софтуерна система, базирана на ограничени наблюдения?

## 2. Overview

Sampling (извличане на извадки) и estimation (оценяване) са фундаментални статистически методи, които позволяват да се правят изводи за големи популации, използвайки само част от данните. В контекста на AI системи и софтуерното инженерство, те са ключови за ефективно събиране на данни, валидиране на модели и оптимизиране на ресурси.

Извличането на извадки е процесът на избор на подмножество от данни, което да представя цялата популация. Оценяването включва изчисляване на параметри (като средна стойност, дисперсия и други) на базата на извадката, с цел да се направят обобщения за цялата популация.

Тези техники са критични за управление на големи обеми данни, където анализът на цялата информация е непрактичен или невъзможен. Те също така позволяват контрол върху качеството на модели и системи чрез статистически методи за проверка на точността и надеждността на резултатите.

## 3. Key Concepts

- **Population (Популация)** – Цялата група от обекти или наблюдения, за която искаме да направим изводи. Представете си я като цялото множество от данни, които бихте искали да анализирате.
- **Sample (Извадка)** – Подмножество от популацията, избрано за анализ. Аналогично на проба от вода, която дава представа за качеството на цялото езеро.
- **Sampling Method (Метод на извадката)** – Правилата или процедурите, по които се избира извадката (напр. случайна, стратифицирана, клъстерна).
- **Estimator (Оценител)** – Функция или формула, която използва данните от извадката, за да изчисли параметър на популацията (например средна стойност).
- **Bias (Изкривяване)** – Систематична грешка, която кара оценката да се отклонява от истинската стойност на параметъра.
- **Variance (Дисперсия)** – Мярка за разсейването на оценките около средната стойност.
- **Confidence Interval (Доверителен интервал)** – Интервал, който с определена вероятност съдържа истинската стойност на параметъра.
- **Law of Large Numbers (Закон за големите числа)** – Теорема, която гарантира, че с увеличаване на размера на извадката, оценките се приближават до истинските параметри на популацията.

## 4. Step-by-step Learning Path

1. **Разберете основните термини и концепции**
   - Фокус: Популация, извадка, оценители.
   - Задача: Опишете примери за популация и извадка във вашата област.
   - Въпроси: Какво е разликата между популация и извадка? Защо не винаги можем да използваме цялата популация?

2. **Изучете различните методи за извадково проучване**
   - Фокус: Случайна, стратифицирана, клъстерна извадка.
   - Задача: Изберете метод за извадка за даден набор от данни и обосновете избора си.
   - Въпроси: Какви са предимствата на стратифицираната извадка? Кога е подходяща клъстерната извадка?

3. **Научете как се изчисляват основни оценители**
   - Фокус: Средна стойност, медиана, дисперсия.
   - Задача: Изчислете средната стойност и дисперсията на примерна извадка.
   - Въпроси: Какво показва дисперсията? Каква е разликата между средна стойност и медиана?

4. **Разберете концепцията за изкривяване и дисперсия на оценителите**
   - Фокус: Bias и variance trade-off.
   - Задача: Анализирайте пример с изкривена оценка и предложете корекция.
   - Въпроси: Какво е изкривяване? Как влияе размерът на извадката на дисперсията?

5. **Изучете доверителни интервали и тяхното значение**
   - Фокус: Конструиране и интерпретация на доверителни интервали.
   - Задача: Постройте доверителен интервал за средна стойност на извадка.
   - Въпроси: Какво означава 95% доверителен интервал? Как се променя интервалът с размера на извадката?

6. **Приложете знанията в реален проект**
   - Фокус: Използване на sampling и estimation за оценка на AI модел.
   - Задача: Изберете извадка от тестови данни и оценете точността на модел.
   - Въпроси: Как избраната извадка влияе на оценката на модела? Как бихте подобрили надеждността на оценката?

## 5. Examples

### Пример 1: Случайна извадка за оценка на точност на AI модел

```python
import numpy as np

# Популация: 10000 етикетирани примера
population = np.random.randint(0, 2, size=10000)

# Извличане на случайна извадка от 1000 примера
sample_indices = np.random.choice(len(population), size=1000, replace=False)
sample = population[sample_indices]

# Оценка на средната точност
accuracy_estimate = np.mean(sample)
print(f"Оценена точност: {accuracy_estimate:.3f}")
```

### Пример 2: Изчисляване на доверителен интервал за средна стойност

```python
import scipy.stats as stats

sample = np.array([2.3, 2.5, 2.1, 2.6, 2.4])
mean = np.mean(sample)
std_err = stats.sem(sample)
confidence = 0.95
h = std_err * stats.t.ppf((1 + confidence) / 2, len(sample) - 1)

print(f"Средна стойност: {mean:.2f}")
print(f"95% доверителен интервал: [{mean - h:.2f}, {mean + h:.2f}]")
```

### Пример 3: Стратифицирана извадка при оценка на потребителска активност

- Популацията е разделена на възрастови групи (страти).
- Избира се пропорционална извадка от всяка група.
- Това гарантира представителност на всички възрастови категории.

## 6. Common Pitfalls

- **Използване на неслучайна извадка**, което води до изкривяване и непредставителни резултати. Решение: винаги използвайте подходящ метод за случайно или стратифицирано вземане на извадка.
- **Подценяване на размера на извадката**, което увеличава дисперсията и намалява надеждността на оценките. Решение: планирайте достатъчно големи извадки.
- **Игнориране на изкривяването (bias)** при оценяване, което може да доведе до систематично грешни изводи. Решение: анализирайте и коригирайте потенциалните източници на bias.
- **Неправилна интерпретация на доверителните интервали**, например мислене, че интервалът съдържа 95% от данните, а не че има 95% вероятност истинският параметър да е в интервала. Решение: учете и практикувайте правилната статистическа интерпретация.
- **Пренебрегване на зависимостите в данните**, което може да наруши предпоставките за извадкови методи. Решение: анализирайте структурата на данните преди извадково проучване.

## 7. Short Retrieval Quiz

1. Какво представлява извадка и каква е нейната роля?
2. Каква е разликата между bias и variance?
3. Кога е подходящо да използваме стратифицирана извадка?
4. Какво означава 95% доверителен интервал?
5. Защо е важно да избираме случайна извадка?
6. Как законът за големите числа подкрепя използването на извадки?
7. Какво може да се случи, ако извадката е твърде малка?

## 8. Quick Recap

- Извадката е представителна част от популацията, използвана за статистически изводи.
- Оценителите са функции, които изчисляват параметри на популацията на базата на извадката.
- Различните методи за извадка влияят върху точността и представителността на резултатите.
- Изкривяването и дисперсията са ключови характеристики на оценителите, които трябва да се управляват.
- Доверителните интервали предоставят мярка за надеждността на оценките.
- Законът за големите числа гарантира, че с увеличаване на извадката оценките се доближават до истинските параметри.
- Практическото приложение на sampling и estimation е критично за ефективна работа с големи данни и AI системи.

## 9. Spaced Review Plan

| Време след учене | Прегледна задача                                      |
|------------------|------------------------------------------------------|
| 1 ден            | Повторете основните термини и формулирайте примери. |
| 3 дни            | Прегледайте методите за извадка и направете малка извадка. |
| 1 седмица        | Изчислете оценители и доверителни интервали за нов набор от данни. |
| 1 месец          | Прегледайте често срещаните грешки и решете кратък тест. |