# Experiment_tracking

## 1. Activate Prior Knowledge
- Какво представлява експериментът в контекста на разработката на AI модели или софтуерни системи?
- Защо е важно да следим параметрите и резултатите от различни опити при обучение на модели?
- Как бихте организирали информацията от множество тестове, за да изберете най-добрия модел?

## 2. Overview
Experiment tracking е систематичен процес за записване, организиране и анализиране на параметрите, метриките и резултатите от експериментите при разработка на AI модели или софтуерни системи. Той служи като основа за възпроизводимост, сравнение и оптимизация на модели, като позволява на екипите да проследяват как различни настройки влияят на производителността.

В по-широк контекст experiment tracking се интегрира в pipeline за машинно обучение, където след обучението на модел следва оценка, валидиране и внедряване. Без ефективно проследяване, екипите рискуват да загубят важна информация, което затруднява откриването на най-добрите хиперпараметри или архитектури.

Това е критично за професионалната работа с AI, тъй като експериментите често са многобройни и сложни. Добре структурираната система за проследяване подпомага научния подход, като осигурява доказателства за взетите решения и улеснява повторното използване на успешни конфигурации.

## 3. Key Concepts
- **Experiment** – Опит за обучение или тестване на модел с конкретни параметри и настройки. Можем да го сравним с научен опит, където променяме условията, за да видим ефекта.
- **Parameters (Параметри)** – Конфигурации, които контролират поведението на модела или процеса (напр. learning rate, брой слоеве). Те са като копчетата на радио – различните настройки променят изхода.
- **Metrics (Метрики)** – Числови показатели, които измерват качеството на модела (напр. accuracy, loss). Те са като оценки, които ни казват колко добре се справя моделът.
- **Run** – Едно изпълнение на експеримент с конкретни параметри и резултати.
- **Reproducibility (Възпроизводимост)** – Способността да се повтори експеримент и да се получат същите резултати, което е ключово за надеждността.
- **Tracking system (Система за проследяване)** – Софтуерен инструмент или платформа, която автоматично записва и организира експерименталните данни.
- **Artifact (Артефакт)** – Файлове или модели, генерирани по време на експеримента, които също трябва да се съхраняват и проследяват.

## 4. Step-by-step Learning Path
1. **Запознаване с основите на експериментите в машинното обучение**
   - Фокус: Разберете какво е експеримент и защо е важен.
   - Задача: Опишете три параметъра, които бихте променили при обучение на прост модел.
   - Въпроси: Какво е експеримент? Защо е важно да променяме параметрите?

2. **Изучаване на ръчния запис на експерименти**
   - Фокус: Практикувайте водене на дневник с параметри и резултати.
   - Задача: Проведете три обучения на модел с различни learning rates и запишете резултатите.
   - Въпроси: Какви трудности срещнахте при ръчното проследяване? Какво липсва?

3. **Въвеждане в автоматизирани системи за проследяване**
   - Фокус: Инсталирайте и използвайте инструмент като MLflow или Weights & Biases.
   - Задача: Настройте прост pipeline, който автоматично записва параметри и метрики.
   - Въпроси: Какви предимства дава автоматизацията? Какво се подобри в сравнение с ръчния метод?

4. **Анализ и сравнение на експерименти**
   - Фокус: Научете се да използвате системата за сравнение на runs.
   - Задача: Изберете най-добрия модел от серия експерименти и обяснете избора си.
   - Въпроси: Какви метрики използвахте за сравнение? Какво ви помогна да вземете решение?

5. **Интеграция на experiment tracking в реален проект**
   - Фокус: Внедрете проследяване в съществуващ ML pipeline.
   - Задача: Автоматизирайте записването на експерименти в проект с реални данни.
   - Въпроси: Какви предизвикателства срещнахте при интеграцията? Какво научихте за добрите практики?

## 5. Examples
### Пример 1: Запис на експеримент с MLflow (Python)
```python
import mlflow
from sklearn.ensemble import RandomForestClassifier
from sklearn.datasets import load_iris
from sklearn.model_selection import train_test_split
from sklearn.metrics import accuracy_score

data = load_iris()
X_train, X_test, y_train, y_test = train_test_split(data.data, data.target, test_size=0.2)

with mlflow.start_run():
    n_estimators = 100
    clf = RandomForestClassifier(n_estimators=n_estimators)
    clf.fit(X_train, y_train)
    preds = clf.predict(X_test)
    acc = accuracy_score(y_test, preds)
    
    mlflow.log_param("n_estimators", n_estimators)
    mlflow.log_metric("accuracy", acc)
    mlflow.sklearn.log_model(clf, "model")
```

### Пример 2: Сравнение runs в Weights & Biases (W&B)
```python
import wandb

wandb.init(project="experiment_tracking_demo")

config = wandb.config
config.learning_rate = 0.01

# Тук следва обучение на модел с learning_rate от config
# Логване на метрики
wandb.log({"accuracy": 0.85})
```

## 6. Common Pitfalls
- **Липса на стандартизация при именуване на параметри и метрики** – води до объркване и трудности при анализ.
- **Не записване на всички важни артефакти (напр. модели, скриптове)** – затруднява възпроизводимостта.
- **Пренебрегване на възпроизводимостта** – без фиксиране на random seed и версии на библиотеките резултатите могат да варират.
- **Ръчно водене на експерименти при голям брой опити** – бързо става неуправляемо.
- **Недостатъчно анализ на резултатите** – само събиране на данни без извличане на изводи.

## 7. Short Retrieval Quiz
1. Какво представлява experiment tracking?
2. Защо е важно да записваме параметрите на експериментите?
3. Какво е артефакт в контекста на експериментите?
4. Какво означава възпроизводимост и защо е ключова?
5. Назовете поне два инструмента за автоматизирано проследяване на експерименти.
6. Какви са рисковете при ръчното водене на експерименти?
7. Какво трябва да включва добрата система за experiment tracking?

## 8. Quick Recap
- Experiment tracking е процес за систематично записване и анализ на параметри, метрики и резултати от AI експерименти.
- Той осигурява възпроизводимост и помага за избор на най-добрите модели.
- Основни компоненти са параметри, метрики, runs и артефакти.
- Автоматизираните инструменти като MLflow и W&B улесняват управлението на експериментите.
- Липсата на стандартизация и документация води до проблеми при анализа и възпроизводимостта.
- Интеграцията на experiment tracking в pipeline подобрява ефективността и качеството на разработката.
- Редовният анализ и сравнение на експерименти са ключови за оптимизацията на моделите.

## 9. Spaced Review Plan

| Време след учене | Промпт за преговор                                      |
|------------------|--------------------------------------------------------|
| 1 ден            | Какво е experiment tracking и защо е важен?            |
| 3 дни            | Назовете основните компоненти на experiment tracking.  |
| 1 седмица        | Опишете процеса на автоматизирано проследяване на експерименти. |
| 1 месец          | Как experiment tracking подобрява възпроизводимостта и анализа? |