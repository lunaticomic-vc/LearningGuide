# Correlation_vs_causation

## 1. Activate Prior Knowledge
- Какво означава корелация и как я използваме в анализа на данни в софтуерни системи?
- Можете ли да посочите пример, когато две променливи са свързани, но едната не причинява другата?
- Защо е важно да различаваме корелация от каузация при изграждането на AI модели и вземането на решения?

## 2. Overview
Корелацията и каузацията са фундаментални понятия в анализа на данни и научните изследвания. Корелацията описва статистическата връзка между две променливи – когато стойностите на едната се променят, стойностите на другата също се променят по определен начин. Въпреки това, корелацията не означава непременно, че едната променлива причинява промяната в другата.

Каузацията, от друга страна, означава причинно-следствена връзка – промяната в една променлива директно води до промяна в друга. В контекста на AI системи и софтуерното инженерство, правилното разбиране на тази разлика е критично за правилното интерпретиране на данни, избягване на грешни заключения и изграждане на надеждни модели.

Тази тема е ключова за избягване на логически грешки и за подобряване на качеството на решенията, базирани на данни, особено когато се работи с големи и комплексни набори от данни, както и при автоматизирани системи за вземане на решения.

## 3. Key Concepts
- **Корелация** – статистическа мярка, която показва степента и посоката на връзката между две променливи. Аналогия: две реки, които текат паралелно, но не се сливат.
- **Каузация (причинност)** – връзка, при която една променлива директно влияе върху друга. Аналогия: бутане на топка, което причинява нейното движение.
- **Обратна каузация** – ситуация, в която предполагаемият ефект всъщност причинява предполагаемата причина.
- **Скрита променлива (confounder)** – трета променлива, която влияе и на двете наблюдавани променливи, създавайки илюзия за корелация.
- **Регресионен анализ** – статистически метод за моделиране на връзката между зависима и независими променливи, използван за изследване на потенциална каузация.
- **Експериментален дизайн** – методология за установяване на каузални връзки чрез контролирани експерименти.

## 4. Step-by-step Learning Path
1. **Фокус:** Разбиране на основната разлика между корелация и каузация.  
   **Задача:** Намерете два набора от данни с висока корелация и обсъдете дали има каузална връзка.  
   **Въпроси:** Какво е корелация? Може ли корелацията да бъде доказателство за каузация?

2. **Фокус:** Изучаване на примери за скрити променливи и обратна каузация.  
   **Задача:** Анализирайте пример с обратна каузация и идентифицирайте потенциални скрити променливи.  
   **Въпроси:** Какво е скрита променлива? Как обратната каузация може да заблуди анализа?

3. **Фокус:** Прилагане на регресионен анализ за изследване на връзки между променливи.  
   **Задача:** Използвайте Python (pandas и statsmodels) за регресионен анализ върху реален набор от данни.  
   **Въпроси:** Как регресионният анализ помага да се изследва каузацията? Какви са ограниченията му?

4. **Фокус:** Запознаване с експериментален дизайн за доказване на каузалност.  
   **Задача:** Проектирайте прост експеримент, който да тества причинно-следствена връзка в софтуерен проект.  
   **Въпроси:** Защо експериментите са по-надеждни за доказване на каузация? Какви са ключовите елементи на добър експеримент?

5. **Фокус:** Критичен анализ на AI модели и техните предположения за каузалност.  
   **Задача:** Оценете един AI модел и идентифицирайте потенциални грешки, свързани с неправилно интерпретиране на корелация и каузация.  
   **Въпроси:** Как грешното разбиране на каузалността може да повлияе на AI решенията? Как да се предпазим от такива грешки?

## 5. Examples
- **Пример 1:** Корелация между продажби на сладолед и удавяния  
  През лятото и двете се увеличават, но едното не причинява другото. Скритата променлива е температурата.  
- **Пример 2:** Влияние на софтуерен ъпдейт върху производителността  
  След ъпдейт на системата се наблюдава подобрение в скоростта. Чрез A/B тест се доказва каузалност.  
- **Пример 3:** Регресионен анализ в Python  
```python
import pandas as pd
import statsmodels.api as sm

# Зареждане на данни
data = pd.DataFrame({
    'hours_studied': [1, 2, 3, 4, 5],
    'exam_score': [50, 55, 65, 70, 75]
})

X = data['hours_studied']
y = data['exam_score']
X = sm.add_constant(X)

model = sm.OLS(y, X).fit()
print(model.summary())
```
Този код показва как да се изследва връзката между часове учене и резултат на изпит.

## 6. Common Pitfalls
- Приемане на корелация за каузация без допълнителен анализ.  
- Игнориране на скрити променливи, които могат да влияят на резултатите.  
- Пренебрегване на обратната каузация.  
- Използване на неподходящи статистически методи за доказване на причинност.  
- Недостатъчно контролирани експерименти или липса на експериментален дизайн.  
- Прекалено доверие в AI модели без проверка на предположенията за каузалност.

## 7. Short Retrieval Quiz
1. Каква е основната разлика между корелация и каузация?  
2. Какво представлява скрита променлива?  
3. Защо корелацията не доказва каузация?  
4. Как експерименталният дизайн помага за доказване на каузалност?  
5. Как може обратната каузация да заблуди анализа?  
6. Кой статистически метод често се използва за изследване на връзки между променливи?  
7. Какво трябва да се внимава при интерпретиране на резултатите от AI модели?

## 8. Quick Recap
- Корелацията показва статистическа връзка, но не доказва причинност.  
- Каузация означава, че една променлива причинява промяна в друга.  
- Скрити променливи и обратна каузация могат да създадат илюзии за връзка.  
- Регресионният анализ и експерименталният дизайн са ключови инструменти за изследване на каузалност.  
- В AI и софтуерното инженерство правилното разбиране на корелация и каузация е критично за надеждни решения.  
- Избягвайте типичните грешки като приемане на корелация за каузация без доказателства.  
- Критичното мислене и експерименталният подход са най-добрите средства за установяване на истински причинно-следствени връзки.

## 9. Spaced Review Plan

| Време       | Промпт за преглед                                    |
|-------------|-----------------------------------------------------|
| 1 ден       | Каква е разликата между корелация и каузация?      |
| 3 дни       | Дайте пример за скрита променлива и обяснете ролята ѝ. |
| 1 седмица   | Как експерименталният дизайн доказва каузалност?   |
| 1 месец     | Опишете как грешното разбиране на корелация и каузация може да навреди на AI проект. |