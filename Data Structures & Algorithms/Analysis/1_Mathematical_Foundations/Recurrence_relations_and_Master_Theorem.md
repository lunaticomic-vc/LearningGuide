# Recurrence_relations_and_Master_Theorem

## 1. Activate Prior Knowledge

- Какво представлява рекурсията и как се използва при решаване на алгоритмични задачи?
- Как бихте оценили времевата сложност на алгоритъм, който се разбива на по-малки подзадачи?
- В какви ситуации в софтуерното инженерство или изкуствения интелект бихте срещнали проблеми, които се описват чрез рекурентни уравнения?

## 2. Overview

Рекурентните уравнения (recurrence relations) са математически изрази, които описват стойността на функция чрез нейните стойности при по-малки аргументи. Те са фундаментален инструмент за анализ на алгоритми, особено когато алгоритъмът се дефинира рекурсивно или чрез разделяне и завладяване (divide and conquer).

Master теоремата предоставя систематичен и ефективен начин за решаване на много класове рекурентни уравнения, които се срещат често при алгоритми с разделяне и завладяване. Тя позволява бързо да се определи асимптотичната сложност без нужда от пълно решаване на уравнението.

В контекста на изкуствения интелект и софтуерното инженерство, разбирането на тези концепции е ключово за оптимизиране на алгоритми, оценка на производителността и проектиране на ефективни системи, които работят с големи обеми данни или сложни рекурсивни структури.

## 3. Key Concepts

- **Recurrence Relation (Рекурентно уравнение)** – уравнение, което дефинира функция чрез стойностите ѝ при по-малки аргументи. Може да се разглежда като „рецепта“, която казва как да се изчисли резултатът стъпка по стъпка.
- **Divide and Conquer (Разделяй и владей)** – алгоритмична парадигма, която разбива проблем на по-малки подпроблеми, решава ги независимо и комбинира решенията им. Рекурентните уравнения често описват времето за изпълнение на такива алгоритми.
- **Master Theorem (Мастер теорема)** – теорема, която дава директен метод за намиране на асимптотичната сложност на рекурентни уравнения от вида T(n) = aT(n/b) + f(n), където a ≥ 1 и b > 1.
- **Asymptotic Complexity (Асимптотична сложност)** – оценка на растежа на времето или пространството, необходимо за изпълнение на алгоритъм при големи входни размери.
- **Base Case (Базов случай)** – най-простият случай на рекурентното уравнение, който не се разбива повече и служи за спиране на рекурсията.

## 4. Step-by-step Learning Path

1. **Фокус:** Разбиране на основите на рекурентните уравнения  
   **Практическа задача:** Запишете рекурентното уравнение за времето на алгоритъм за намиране на факториел рекурсивно.  
   **Въпроси за припомняне:** Какво е базовият случай? Как се дефинира рекурентното уравнение?

2. **Фокус:** Анализ на рекурентни уравнения чрез разгръщане (unfolding)  
   **Практическа задача:** Разгърнете уравнението T(n) = 2T(n/2) + n за няколко стъпки и изведете формула.  
   **Въпроси за припомняне:** Какво означава всяка част от уравнението? Как се изразява времето на всяко ниво?

3. **Фокус:** Запознаване с Master теоремата и нейните случаи  
   **Практическа задача:** Определете асимптотичната сложност на T(n) = 3T(n/4) + n с помощта на Master теоремата.  
   **Въпроси за припомняне:** Как да изберем a, b и f(n)? Кой случай на Master теоремата се прилага?

4. **Фокус:** Приложение на Master теоремата в реални алгоритми  
   **Практическа задача:** Анализирайте времето за изпълнение на Merge Sort чрез Master теоремата.  
   **Въпроси за припомняне:** Какво е времето за разделяне и сливане? Как се отразява това на общото време?

5. **Фокус:** Ограничения и случаи, които не покрива Master теоремата  
   **Практическа задача:** Намерете пример на рекурентно уравнение, което не може да се реши с Master теоремата и предложете алтернативен метод.  
   **Въпроси за припомняне:** Кога Master теоремата не е приложима? Какви други техники съществуват?

## 5. Examples

### Пример 1: Факториел

Рекурентно уравнение:  
\[ T(n) = T(n-1) + O(1), \quad T(0) = O(1) \]

Това описва времето за изчисляване на факториел рекурсивно. Решението е \( T(n) = O(n) \).

---

### Пример 2: Merge Sort

Рекурентно уравнение:  
\[ T(n) = 2T(n/2) + O(n) \]

Използваме Master теоремата с \( a=2, b=2, f(n)=n \). Тук \( \log_b a = \log_2 2 = 1 \), а \( f(n) = \Theta(n^{\log_b a}) \). Следователно,  
\[ T(n) = \Theta(n \log n) \]

---

### Пример 3: Алгоритъм с неравномерно разделяне

Рекурентно уравнение:  
\[ T(n) = 3T(n/4) + n \]

С \( a=3, b=4, f(n)=n \), изчисляваме \( \log_b a = \log_4 3 \approx 0.792 \). Тъй като \( f(n) = \Theta(n^{1}) \) и \( 1 > 0.792 \), по Master теорема:  
\[ T(n) = \Theta(n) \]

## 6. Common Pitfalls

- **Неправилно определяне на параметрите a и b** – често се бърка кое е броят на подпроблемите (a) и кое е факторът на намаляване (b). Винаги помнете: a е колко подпроблема имаме, b е с колко се намалява размерът.
- **Игнориране на базовия случай** – без ясно дефиниран базов случай, рекурентното уравнение не може да бъде решено правилно.
- **Прилагане на Master теоремата при неподходящи функции f(n)** – Master теоремата изисква f(n) да бъде положителна и да отговаря на определени условия; ако не са изпълнени, трябва да се използват други методи.
- **Пропускане на проверка за полиномиален растеж** – важно е да сравним f(n) с \( n^{\log_b a} \), за да изберем правилния случай на Master теоремата.
- **Смесване на рекурентни уравнения с итеративни анализи** – рекурентните уравнения описват рекурсивни процеси, а не итеративни, и изискват различен подход.

## 7. Short Retrieval Quiz

1. Какво описва рекурентното уравнение в анализа на алгоритми?
2. Кои са параметрите a и b в Master теоремата?
3. Какъв е базовият случай и защо е важен?
4. Какво означава \( \log_b a \) в Master теоремата?
5. Каква е асимптотичната сложност на Merge Sort?
6. Кога не можем да използваме Master теоремата?
7. Какво представлява парадигмата „разделяй и владей“?

## 8. Quick Recap

- Рекурентните уравнения описват времето за изпълнение на рекурсивни алгоритми чрез стойностите на по-малки входове.
- Master теоремата дава бърз начин за решаване на уравнения от вида \( T(n) = aT(n/b) + f(n) \).
- Параметрите a и b съответно са броят на подпроблемите и факторът на намаляване на размера.
- Сравнението между \( f(n) \) и \( n^{\log_b a} \) определя асимптотичната сложност.
- Базовият случай е необходим за спиране на рекурсията и коректност на решението.
- Master теоремата не е приложима за всички рекурентни уравнения, затова трябва да се познават и други методи.
- Тези концепции са ключови за оптимизация и анализ на алгоритми в AI и софтуерното инженерство.

## 9. Spaced Review Plan

| Време след учене | Промпт за преговор                                      |
|------------------|--------------------------------------------------------|
| 1 ден            | Опишете Master теоремата и нейните параметри.          |
| 3 дни            | Решете рекурентно уравнение от вида \( T(n) = 2T(n/2)+n \). |
| 1 седмица        | Обяснете кога Master теоремата не може да се използва.  |
| 1 месец          | Дайте пример за алгоритъм, чиято сложност се анализира с Master теоремата. |