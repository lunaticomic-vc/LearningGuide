# Role-based_agents_(planner,_executor,_evaluator)

## 1. Activate Prior Knowledge

- Какво представлява агент в контекста на изкуствения интелект и какви роли може да изпълнява в една система?
- Какви са основните етапи при изпълнението на задача от софтуерен агент – планиране, изпълнение и оценка?
- Можете ли да предвидите как взаимодействието между различни роли на агенти може да подобри ефективността и надеждността на AI система?

## 2. Overview

Ролевите агенти са специализирани компоненти в системи за изкуствен интелект, които изпълняват конкретни функции: планиране, изпълнение и оценка. Тази структура позволява разделяне на отговорностите, което подобрява модулността, управлението и разширяемостта на системите. В по-широк контекст, ролите на агенти са ключови за сложни системи като автономни роботи, интелигентни асистенти и системи за вземане на решения.

Планиращият агент отговаря за създаване на стратегия или план за постигане на целите, като анализира възможните действия и техните последствия. Изпълнителят превръща плана в конкретни действия в реалния свят или симулация. Оценителят анализира резултатите от изпълнението, осигурявайки обратна връзка, която може да коригира бъдещите планове или действия.

Тази роля-базирана архитектура е фундаментална за изграждането на интелигентни системи, които трябва да се адаптират към динамична среда и да подобряват представянето си с времето. Разбирането на взаимодействието между планиращия, изпълнителя и оценителя е критично за разработването на надеждни, ефективни и самоуправляващи се AI агенти.

## 3. Key Concepts

- **Agent (Агент)** – автономен софтуерен или хардуерен компонент, който възприема средата и предприема действия за постигане на цели. Може да се разглежда като „актьор“ в системата.
- **Planner (Планиращ агент)** – отговаря за формулиране на план или стратегия, подобно на „стратег“, който предвижда ходовете напред.
- **Executor (Изпълнителен агент)** – изпълнява конкретните действия според плана, действа като „изпълнител“ или „оператор“.
- **Evaluator (Оценителен агент)** – следи резултатите от изпълнението, оценява успеха и предоставя обратна връзка, като „критик“ или „инспектор“.
- **Feedback Loop (Обратна връзка)** – цикъл, в който оценителят информира планиращия за резултатите, позволявайки адаптация и оптимизация.
- **Modularity (Модулност)** – принцип, според който системата е разделена на отделни, взаимозаменяеми роли, улесняващи поддръжката и развитието.
- **Hierarchical Control (Йерархичен контрол)** – организация на агенти в нива, където планиращият задава цели, а изпълнителят и оценителят работят на по-ниско ниво.

## 4. Step-by-step Learning Path

1. **Запознаване с основните роли на агенти**
   - Фокус: Разберете какво представляват планиращ, изпълнител и оценител.
   - Задача: Напишете кратко описание на всяка роля с примери от ежедневието.
   - Въпроси: Каква е основната функция на всеки агент? Как те взаимодействат?

2. **Изучаване на планиране и алгоритми за планиране**
   - Фокус: Разгледайте алгоритми като A*, графови търсения и методи за оптимизация.
   - Задача: Имплементирайте прост планиращ агент, който намира път в двумерна мрежа.
   - Въпроси: Как планиращият избира най-добрия път? Какво е състояние и действие?

3. **Разработка на изпълнителен агент**
   - Фокус: Как се превръщат плановете в действия в реална или симулирана среда.
   - Задача: Създайте изпълнител, който приема план и го изпълнява стъпка по стъпка.
   - Въпроси: Как се справя изпълнителят с грешки по време на изпълнение?

4. **Въвеждане на оценителен агент и обратна връзка**
   - Фокус: Метрики за оценка и корекция на планове.
   - Задача: Добавете оценител, който измерва успеха на изпълнението и предлага корекции.
   - Въпроси: Как обратната връзка подобрява системата? Как се интегрира оценката в цикъла?

5. **Интеграция и тестване на цялата система**
   - Фокус: Взаимодействие между ролите и управление на грешки.
   - Задача: Създайте прототип, където планиращ, изпълнител и оценител работят заедно.
   - Въпроси: Какви са предизвикателствата при синхронизацията? Как се осигурява надеждност?

## 5. Examples

### Пример 1: Планиране на път за робот

```python
def simple_planner(start, goal, obstacles):
    # Примерна функция за намиране на път (без реален алгоритъм)
    path = [start]
    current = start
    while current != goal:
        # Преместване към целта (опростено)
        current = (current[0] + 1, current[1])
        if current in obstacles:
            break
        path.append(current)
    return path

plan = simple_planner((0,0), (5,0), obstacles={(3,0)})
print("Plan:", plan)
```

### Пример 2: Изпълнител, който следва плана

```python
def executor(plan):
    for step in plan:
        print(f"Executing step: {step}")
        # Тук може да се добави реално действие към хардуер или симулация

executor(plan)
```

### Пример 3: Оценител, който проверява дали целта е постигната

```python
def evaluator(plan, goal):
    if plan[-1] == goal:
        print("Execution successful!")
    else:
        print("Execution failed, replanning needed.")

evaluator(plan, (5,0))
```

## 6. Common Pitfalls

- **Липса на ясно разграничение между ролите** – смесване на планиране и изпълнение води до сложен и трудно поддържан код.
- **Пренебрегване на обратната връзка** – без оценител системата не може да се адаптира и подобрява.
- **Недостатъчна обработка на грешки при изпълнение** – изпълнителят трябва да може да реагира на непредвидени ситуации.
- **Прекалено опростени планове без реалистична оценка на средата** – води до неуспешно изпълнение.
- **Липса на синхронизация между агенти** – може да доведе до конфликтни действия или загуба на информация.

## 7. Short Retrieval Quiz

1. Каква е основната функция на планиращия агент?
2. Как изпълнителят използва плана, създаден от планиращия?
3. Каква роля играе оценителят в системата?
4. Защо е важна модулността при ролевите агенти?
5. Как обратната връзка влияе на бъдещите планове?
6. Какво може да се случи, ако няма обработка на грешки при изпълнението?
7. Какви са предимствата на разделянето на агенти по роли?

## 8. Quick Recap

- Ролевите агенти разделят задачите на планиране, изпълнение и оценка.
- Планиращият създава стратегия за постигане на цели.
- Изпълнителят превръща плана в конкретни действия.
- Оценителят анализира резултатите и осигурява обратна връзка.
- Обратната връзка позволява адаптация и подобрение на системата.
- Модулността улеснява разработката и поддръжката.
- Синхронизацията и обработката на грешки са критични за надеждност.

## 9. Spaced Review Plan

| Време      | Промпт за преглед                                      |
|------------|-------------------------------------------------------|
| 1 ден      | Опишете ролите на планиращ, изпълнител и оценител.    |
| 3 дни      | Обяснете как обратната връзка подобрява системата.    |
| 1 седмица  | Прегледайте пример за взаимодействие между трите агента. |
| 1 месец    | Разгледайте типични грешки при имплементация и как да ги избегнете. |