# Integrals_and_PDFs

## 1. Activate Prior Knowledge
- Какво представлява вероятностната плътност (PDF) и как се различава от вероятността?
- Как интегралите се използват за изчисляване на вероятности в контекста на непрекъснати случайни променливи?
- Как бихте използвали интеграли и PDF в моделиране на вероятности в AI системи, например при обработка на естествен език или компютърно зрение?

## 2. Overview
Интегралите и функциите на плътността на вероятността (PDF) са фундаментални инструменти в теорията на вероятностите и статистиката, които позволяват моделиране и анализ на непрекъснати случайни променливи. PDF описва как вероятността се разпределя по стойностите на променливата, докато интегралът на PDF върху даден интервал дава вероятността, че променливата попада в този интервал.

В контекста на AI и софтуерното инженерство, разбирането на PDF и интегралите е ключово за задачи като оценка на вероятности, обучение на модели с вероятностни предположения и изчисляване на очаквани стойности. Например, при моделиране на шум в сензорни данни или при вероятностни графични модели, интегралите позволяват изчисляване на кумулативни вероятности и очаквания.

Този материал ще ви помогне да изградите стабилна концептуална основа и практически умения за работа с PDF и интеграли, които са незаменими при разработката на сложни AI системи и статистически алгоритми.

## 3. Key Concepts
- **Probability Density Function (PDF)** – Функция, която описва вероятностното разпределение на непрекъсната случайна променлива. Мислете за нея като за „вероятностна карта“, където височината на графиката показва колко вероятно е да се наблюдава дадена стойност.
- **Integral (Интеграл)** – Математическа операция, която сумира безкрайно малки части, използвана за изчисляване на площи под криви. В контекста на PDF, интегралът от PDF върху интервал дава вероятността за попадане в този интервал.
- **Cumulative Distribution Function (CDF)** – Функция, която дава вероятността случайната променлива да бъде по-малка или равна на дадена стойност. CDF е интеграл на PDF от минус безкрайност до тази стойност.
- **Expected Value (Очаквана стойност)** – Средната стойност на случайна променлива, изчислена чрез интеграл на произведението на стойностите и тяхната PDF.
- **Normalization** – Свойството на PDF, че интегралът ѝ по цялата област е равен на 1, което гарантира, че общата вероятност е 100%.

## 4. Step-by-step Learning Path
1. **Разберете дефиницията на PDF и нейното значение**
   - Задача: Намерете PDF на нормално разпределение и начертайте графиката му.
   - Въпроси: Какво означава стойността на PDF в дадена точка? Защо PDF може да бъде по-голямо от 1?
2. **Научете как да изчислявате вероятности чрез интеграли**
   - Задача: Изчислете вероятността случайна променлива с даден PDF да попадне в интервала [a, b].
   - Въпроси: Как интегралът на PDF върху интервал се интерпретира като вероятност? Какво се случва ако интегрирате извън дефинирания интервал?
3. **Изследвайте връзката между PDF и CDF**
   - Задача: Изчислете CDF чрез интеграл на PDF и проверете дали е монотонно растяща.
   - Въпроси: Каква е стойността на CDF при минус и плюс безкрайност? Как CDF описва вероятността?
4. **Приложете интеграли и PDF за изчисляване на очаквана стойност**
   - Задача: Изчислете очакваната стойност на случайна променлива с даден PDF.
   - Въпроси: Какво означава очакваната стойност в контекста на вероятност? Как се изчислява чрез интеграл?
5. **Практикувайте с код за числено интегриране и визуализация**
   - Задача: Напишете скрипт, който числено интегрира PDF и изчислява вероятности.
   - Въпроси: Какви са предимствата и ограниченията на численото интегриране спрямо аналитичното?

## 5. Examples
### Пример 1: Вероятност за нормално разпределение
Нека X ~ N(0,1). Вероятността X да е между -1 и 1 е интегралът на PDF от -1 до 1.

```python
import scipy.stats as stats

prob = stats.norm.cdf(1) - stats.norm.cdf(-1)
print(f"Вероятност X ∈ [-1,1]: {prob:.4f}")
```

### Пример 2: Изчисляване на очаквана стойност за експоненциално разпределение
За X ~ Exp(λ=2), очакваната стойност е:

```python
import scipy.integrate as integrate
import numpy as np

pdf = lambda x: 2 * np.exp(-2 * x) if x >= 0 else 0
expected_value, _ = integrate.quad(lambda x: x * pdf(x), 0, np.inf)
print(f"Очаквана стойност: {expected_value:.4f}")
```

### Пример 3: Визуализация на PDF и CDF
```python
import numpy as np
import matplotlib.pyplot as plt
from scipy.stats import norm

x = np.linspace(-4, 4, 1000)
pdf = norm.pdf(x)
cdf = norm.cdf(x)

plt.plot(x, pdf, label='PDF')
plt.plot(x, cdf, label='CDF')
plt.legend()
plt.title('Нормално разпределение PDF и CDF')
plt.show()
```

## 6. Common Pitfalls
- **Бъркане между PDF и вероятност** – PDF не е вероятност, а плътност; вероятността се получава чрез интеграл.
- **Игнориране на областта на дефиниция** – интегриране извън областта, където PDF е дефинирана, може да доведе до грешки.
- **Неправилна нормализация** – PDF трябва да бъде нормализирана, т.е. интегралът ѝ върху цялата област да е 1.
- **Грешки при числено интегриране** – недостатъчна точност или неправилен избор на граници може да доведе до неточни резултати.
- **Забравяне, че PDF може да бъде по-голяма от 1** – високи стойности на PDF не означават вероятност над 1, а плътност.

## 7. Short Retrieval Quiz
1. Какво представлява PDF и как се използва за изчисляване на вероятности?
2. Каква е връзката между PDF и CDF?
3. Как се изчислява вероятността, че случайна променлива попада в даден интервал?
4. Какво означава нормализация на PDF?
5. Как се изчислява очакваната стойност на случайна променлива?
6. Защо интегралът на PDF върху цялата област е равен на 1?
7. Какво е основното различие между дискретна и непрекъсната случайна променлива в контекста на вероятности?

## 8. Quick Recap
- PDF описва разпределението на вероятностите за непрекъснати случайни променливи.
- Вероятността за попадане в интервал се изчислява чрез интеграл на PDF върху този интервал.
- CDF е интеграл на PDF и дава кумулативната вероятност до дадена точка.
- Очакваната стойност се изчислява като интеграл на произведението на стойностите и PDF.
- PDF трябва да бъде нормализирана, т.е. интегралът ѝ върху цялата област е 1.
- Численото интегриране е полезно при сложни PDF, където аналитичните решения са трудни.
- Разбирането на PDF и интеграли е критично за моделиране и анализ в AI и софтуерно инженерство.

## 9. Spaced Review Plan

| Време след учене | Промпт за преглед                                  |
|------------------|---------------------------------------------------|
| 1 ден            | Обяснете с прости думи как PDF и интегралите работят за изчисляване на вероятности. |
| 3 дни            | Изчислете вероятността за даден интервал при нормално разпределение.               |
| 1 седмица        | Опишете връзката между PDF, CDF и очакваната стойност.                            |
| 1 месец          | Напишете кратък код, който числено интегрира PDF и изчислява вероятност.           |