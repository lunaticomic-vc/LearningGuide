# Ternary_Search_and_Exponential_Search

## 1. Activate Prior Knowledge

- Какво знаете за двоичното търсене (binary search) и как то подобрява ефективността при търсене в сортирани масиви?
- В какви ситуации бихте предпочели да използвате по-специализирани алгоритми за търсене, като ternary search или exponential search, вместо класическото двоично търсене?
- Как мислите, че тези алгоритми могат да бъдат приложени в системи за изкуствен интелект или софтуерни инженерни решения, които изискват бързо намиране на оптимални стойности?

## 2. Overview

Ternary search и exponential search са два алгоритъма за търсене, които разширяват и оптимизират класическите методи за намиране на елементи или оптимални стойности в сортирани структури от данни. Ternary search се използва основно за намиране на максимуми или минимуми на унимодални функции, докато exponential search е подходящ за бързо локализиране на елемент в големи сортирани масиви, особено когато размерът им не е предварително известен.

В контекста на AI системи и софтуерната инженерия, тези алгоритми могат да ускорят процесите на оптимизация и търсене, като намалят времето за изчисления и подобрят реактивността на системите. Например, ternary search може да се използва за оптимизация на хиперпараметри, а exponential search – за ефективно търсене в динамично разрастващи се бази данни.

Разбирането и прилагането на тези алгоритми е ключово за разработчици и инженери, които искат да изградят системи с висока производителност и ниска латентност при обработка на големи обеми данни.

## 3. Key Concepts

- **Ternary Search** – алгоритъм за намиране на максимума или минимума на унимодална функция чрез разделяне на интервала на три части и елиминиране на една трета при всяка итерация. Ментален модел: „като да търсиш върха на планина, като разглеждаш три точки и изключваш най-ниската част“.
- **Exponential Search** – алгоритъм, който първо бързо увеличава стъпката на търсене експоненциално, за да намери приблизителен диапазон, след което прилага двоично търсене в този диапазон. Ментален модел: „като да търсиш книга в библиотека, първо проверяваш все по-големи секции, докато не намериш подходящата, след което прецизираш търсенето“.
- **Унимодална функция** – функция, която има само един локален максимум или минимум в даден интервал, което гарантира, че ternary search ще намери глобалния оптимум.
- **Двоично търсене (Binary Search)** – класически алгоритъм за търсене в сортиран масив, който разделя интервала на две части при всяка итерация.
- **Сортиран масив** – масив, в който елементите са подредени по нарастващ или намаляващ ред, предпоставка за ефективното прилагане на двоично, ternary и exponential търсене.

## 4. Step-by-step Learning Path

1. **Преглед на двоичното търсене**
   - Фокус: Разберете основите на двоичното търсене и неговата логика.
   - Задача: Имплементирайте двоично търсене за намиране на елемент в сортиран масив.
   - Въпроси: Какво е времевата сложност на двоичното търсене? Защо масивът трябва да е сортиран?

2. **Запознаване с унимодални функции**
   - Фокус: Научете какво е унимодална функция и защо ternary search работи върху нея.
   - Задача: Нарисувайте пример на унимодална функция и маркирайте интервала на търсене.
   - Въпроси: Какво означава унимодалност? Какво би се случило, ако функцията не е унимодална?

3. **Имплементация на ternary search**
   - Фокус: Разберете алгоритъма и го приложете за намиране на максимум на унимодална функция.
   - Задача: Напишете код, който намира максимума на дадена унимодална функция в интервал.
   - Въпроси: Как алгоритъмът елиминира част от интервала при всяка итерация? Каква е времевата му сложност?

4. **Разбиране на exponential search**
   - Фокус: Научете как exponential search комбинира експоненциално разширяване с двоично търсене.
   - Задача: Имплементирайте exponential search за намиране на елемент в голям сортиран масив.
   - Въпроси: Защо exponential search е полезен при неизвестен размер на масива? Какво е времето за изпълнение?

5. **Приложения и оптимизации**
   - Фокус: Свържете двата алгоритъма с реални проблеми в AI и софтуерна инженерия.
   - Задача: Изберете проблем (напр. оптимизация на хиперпараметри или търсене в база данни) и предложете подходящ алгоритъм.
   - Въпроси: В какви ситуации предпочитате ternary search пред exponential search и обратно? Как бихте оптимизирали кода за по-големи данни?

## 5. Examples

### Пример 1: Ternary Search за намиране на максимум на унимодална функция

```python
def ternary_search(f, left, right, absolute_precision=1e-5):
    while right - left > absolute_precision:
        left_third = left + (right - left) / 3
        right_third = right - (right - left) / 3
        if f(left_third) < f(right_third):
            left = left_third
        else:
            right = right_third
    return (left + right) / 2

# Примерна унимодална функция
def f(x):
    return -(x - 2)**2 + 4

max_x = ternary_search(f, 0, 4)
print(f"Максимумът е около x = {max_x}, f(x) = {f(max_x)}")
```

### Пример 2: Exponential Search за намиране на елемент в сортиран масив

```python
def binary_search(arr, left, right, x):
    while left <= right:
        mid = left + (right - left) // 2
        if arr[mid] == x:
            return mid
        elif arr[mid] < x:
            left = mid + 1
        else:
            right = mid - 1
    return -1

def exponential_search(arr, x):
    if arr[0] == x:
        return 0
    i = 1
    while i < len(arr) and arr[i] <= x:
        i *= 2
    return binary_search(arr, i // 2, min(i, len(arr) - 1), x)

arr = [2, 3, 4, 10, 40, 50, 60, 70, 80]
x = 10
index = exponential_search(arr, x)
print(f"Елементът {x} е намерен на индекс {index}")
```

## 6. Common Pitfalls

- **Прилагане на ternary search върху неунимодални функции** – алгоритъмът може да не намери глобалния максимум/минимум, ако функцията има множество локални екстремуми.
- **Неправилно задаване на граници в exponential search** – ако не се проверява коректно горната граница, може да се получи излизане извън масива.
- **Игнориране на точността при ternary search** – прекалено голям праг за спиране може да доведе до неточни резултати, а прекалено малък – до излишно дълго изпълнение.
- **Използване на exponential search при малки масиви** – за малки масиви двоичното търсене е по-ефективно и по-лесно за имплементация.
- **Недостатъчно разбиране на унимодалността** – без гаранция за унимодалност, ternary search може да работи неправилно.

## 7. Short Retrieval Quiz

1. Какво представлява унимодална функция и защо е важна за ternary search?
2. Как ternary search разделя интервала за търсене?
3. Каква е основната идея зад exponential search?
4. В какви ситуации exponential search е по-подходящ от двоично търсене?
5. Каква е времевата сложност на ternary search и exponential search?
6. Какво трябва да се внимава при имплементацията на exponential search?
7. Защо сортираният масив е предпоставка за двоично и exponential търсене?

## 8. Quick Recap

- Ternary search намира максимум или минимум на унимодални функции чрез разделяне на интервала на три части.
- Exponential search комбинира бързо разширяване на интервала с двоично търсене за намиране на елемент в сортиран масив.
- Унимодалните функции имат един локален максимум или минимум, което гарантира коректността на ternary search.
- Exponential search е полезен при неизвестен или много голям размер на масива.
- И двата алгоритъма са оптимизации спрямо класическото двоично търсене в специфични контексти.
- Внимателното задаване на граници и точност е ключово за правилната работа на алгоритмите.
- Тези техники имат приложения в AI, оптимизация и софтуерна инженерия.

## 9. Spaced Review Plan

| Време след учене | Промпт за преглед                                      |
|-------------------|--------------------------------------------------------|
| 1 ден             | Обяснете принципа на ternary search с пример.          |
| 3 дни             | Опишете как работи exponential search и кога се използва. |
| 1 седмица         | Имплементирайте ternary search за унимодална функция.  |
| 1 месец           | Сравнете ternary и exponential search по приложения и ефективност. |