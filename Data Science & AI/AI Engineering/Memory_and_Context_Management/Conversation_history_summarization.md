# Conversation_history_summarization

## 1. Activate Prior Knowledge
- Какво представлява резюмирането на текст и какви са основните му приложения в софтуерните системи?
- Как бихте използвали резюме на предишен разговор, за да подобрите взаимодействието с AI чатбот?
- Кои са предизвикателствата при обработката на дълги разговори в системи за изкуствен интелект?

## 2. Overview
Conversation history summarization (резюмиране на историята на разговор) е процесът на извличане на съществена информация от предишни взаимодействия в диалогова система и представянето ѝ в по-кратка, но информативна форма. Тази техника е ключова за подобряване на ефективността и контекстуалната осведоменост на AI системи, особено при дълги или многослойни разговори.

В по-широк контекст, резюмирането на разговори подпомага системи за поддръжка на клиенти, виртуални асистенти и други интерактивни платформи, като им позволява да "помнят" и използват предишна информация без да се налага да обработват целия разговор всеки път. Това намалява изчислителните ресурси и подобрява потребителското изживяване.

Технологичното значение на тази задача се крие в баланса между запазване на важни детайли и елиминиране на излишната информация, което е критично за поддържане на релевантност и точност в отговорите на AI системите.

## 3. Key Concepts
- **Conversation History** – Цялата последователност от съобщения и отговори в един диалог. Може да се сравни с хронология на събития, която съдържа контекст и информация за предишни взаимодействия.
- **Summarization** – Процес на съкращаване на текст, като се запазва основната идея и ключовите факти. Ментален модел: като да направите конспект от дълъг текст.
- **Extractive Summarization** – Техника, при която се избират ключови изречения или фрази директно от оригиналния текст, без да се променя формулировката.
- **Abstractive Summarization** – Техника, при която се генерира нов текст, който обобщава съдържанието, използвайки собствени думи, подобно на това как човек би преписал основните идеи.
- **Context Window** – Максималният обем текст, който моделът на AI може да обработи наведнъж. Важен фактор при работа с дълги разговори.
- **Dialogue State Tracking** – Метод за следене на текущото състояние и намерения в диалог, който често се подпомага от резюмета на предишни съобщения.

## 4. Step-by-step Learning Path
1. **Разберете основите на резюмирането на текст**
   - Фокус: Разгледайте разликите между extractive и abstractive summarization.
   - Задача: Намерете пример за двата типа резюме в статия или новина.
   - Въпроси: Как се различават двата подхода? Кой е по-подходящ за разговори?

2. **Изследвайте спецификата на разговорите**
   - Фокус: Анализирайте структурата на диалог и ролята на контекста.
   - Задача: Вземете примерен чат и идентифицирайте ключови моменти, които трябва да се запазят в резюме.
   - Въпроси: Какво прави разговорния текст различен от обикновения текст? Защо контекстът е важен?

3. **Запознайте се с модели и алгоритми за резюмиране**
   - Фокус: Проучете популярни NLP модели като BERT, GPT и специализирани модели за диалог.
   - Задача: Използвайте предварително обучен модел за резюмиране върху примерен разговор.
   - Въпроси: Как моделите обработват дълги текстове? Как се справят с многозначността?

4. **Практикувайте интеграция в AI системи**
   - Фокус: Имплементирайте резюмиране в чатбот или виртуален асистент.
   - Задача: Напишете код, който автоматично създава резюме след всеки 5 съобщения.
   - Въпроси: Как резюмето помага за подобряване на отговорите? Как да оптимизирате резюмето за бързина?

5. **Оценка и оптимизация**
   - Фокус: Използвайте метрики като ROUGE и човешка оценка за качество.
   - Задача: Сравнете различни методи за резюмиране по качество и скорост.
   - Въпроси: Кои са основните критерии за добро резюме? Как да балансирате точност и краткост?

## 5. Examples

### Пример 1: Extractive summarization на чат
```python
from sklearn.feature_extraction.text import TfidfVectorizer
from sklearn.cluster import KMeans

conversation = [
    "Здравейте, имам проблем с моята поръчка.",
    "Може ли да уточните какъв е проблемът?",
    "Поръчката ми не е пристигнала навреме.",
    "Извиняваме се за неудобството. Ще проверя статуса веднага.",
    "Благодаря, очаквам вашия отговор."
]

vectorizer = TfidfVectorizer(stop_words='bulgarian')
X = vectorizer.fit_transform(conversation)

kmeans = KMeans(n_clusters=2, random_state=0).fit(X)
labels = kmeans.labels_

summary = [sentence for i, sentence in enumerate(conversation) if labels[i] == 0]
print("Резюме:", " ".join(summary))
```

### Пример 2: Абстрактивно резюме с Hugging Face Transformers
```python
from transformers import pipeline

summarizer = pipeline("summarization", model="facebook/bart-large-cnn")

conversation_text = """
Потребител: Здравейте, имам въпрос относно сметката си.
Агент: Здравейте! Как мога да Ви помогна?
Потребител: Забелязах непознати такси в последната фактура.
Агент: Ще проверя това веднага и ще се върна при Вас с информация.
"""

summary = summarizer(conversation_text, max_length=50, min_length=25, do_sample=False)
print("Резюме:", summary[0]['summary_text'])
```

## 6. Common Pitfalls
- **Игнориране на контекста** – Резюмирането без запазване на контекста води до загуба на важна информация и неправилни изводи.
- **Прекалено кратки резюмета** – Много кратките резюмета могат да пропуснат ключови детайли, което затруднява последващото разбиране.
- **Прекомерна зависимост от extractive методи** – Те могат да включват изречения, които не са свързани логически, ако не се направи допълнителна обработка.
- **Пренебрегване на шум и неясноти** – Разговорите често съдържат грешки, повторения и несвързани реплики, които трябва да се филтрират.
- **Недостатъчно тестване с реални данни** – Моделите трябва да се валидират с разнообразни и реалистични разговори, за да се избегне пренастройване.

## 7. Short Retrieval Quiz
1. Каква е разликата между extractive и abstractive summarization?
2. Защо контекстът е важен при резюмиране на разговори?
3. Какво представлява dialogue state tracking и как резюмето подпомага този процес?
4. Кои са основните предизвикателства при резюмиране на дълги разговори?
5. Какви метрики се използват за оценка на качеството на резюмето?

## 8. Quick Recap
- Conversation history summarization обобщава предишни диалогови взаимодействия за по-добро разбиране и ефективност.
- Съществуват два основни подхода: extractive (извличане) и abstractive (генериране).
- Контекстът и структурата на диалога са критични за качествено резюме.
- Моделите за резюмиране трябва да балансират между точност, краткост и релевантност.
- Интеграцията на резюме подобрява AI системите, като намалява изчислителните ресурси и подобрява потребителското изживяване.
- Оценката на резюметата изисква както автоматични метрики, така и човешка преценка.
- Често срещани грешки включват загуба на контекст и недостатъчно тестване с реални данни.

## 9. Spaced Review Plan

| Време     | Промпт за преглед                                      |
|-----------|--------------------------------------------------------|
| 1 ден     | Обяснете разликата между extractive и abstractive summarization. |
| 3 дни     | Как контекстът влияе на качеството на резюмето в разговори?       |
| 1 седмица| Опишете как резюмирането подпомага dialogue state tracking.       |
| 1 месец  | Прегледайте типичните грешки при имплементация и как да ги избегнете. |