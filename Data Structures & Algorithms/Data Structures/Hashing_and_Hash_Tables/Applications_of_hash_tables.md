# Applications_of_hash_tables

## 1. Activate Prior Knowledge

- Какво представлява хеш таблицата и как тя улеснява бързото търсене на данни?
- В кои ситуации в софтуерното инженерство или изкуствения интелект бихте използвали структура с бърз достъп до ключ-стойност?
- Какви са предимствата и ограниченията на други структури за съхранение на данни спрямо хеш таблиците?

## 2. Overview

Хеш таблиците са фундаментална структура от данни, която позволява съхранение и бързо извличане на данни чрез асоцииране на ключове със стойности. Те са основен компонент в множество системи, от бази данни и кеширащи механизми до алгоритми за машинно обучение и компилатори.

В по-широк контекст, хеш таблиците служат като ефективен механизъм за индексиране и бърз достъп, което ги прави незаменими в системи с големи обеми данни и високи изисквания за производителност. Те намаляват времето за търсене от линейно до амортизирано константно време, което е критично за реално време и интерактивни приложения.

Разбирането на приложенията на хеш таблиците е ключово за проектиране на ефективни алгоритми и системи, особено в сферата на изкуствения интелект, където обработката на големи масиви от данни и бързото вземане на решения са от съществено значение.

## 3. Key Concepts

- **Hash Function** – Функция, която преобразува ключа в индекс в масива на хеш таблицата. Мислете за нея като за „адресен генератор“ в пощенска система.
- **Collision** – Случай, когато две различни ключа се хешират на един и същ индекс. Това е като две писма, адресирани до една и съща пощенска кутия.
- **Chaining** – Метод за справяне с колизии, при който всички елементи с еднакъв индекс се съхраняват в свързан списък.
- **Open Addressing** – Алтернатива на chaining, при която при колизия се търси следващият свободен индекс в масива.
- **Load Factor** – Отношението между броя на елементите и размера на масива. Влияе на производителността и честотата на колизиите.
- **Amortized Time Complexity** – Средното време за операция, когато се вземат предвид всички операции, включително разширяването на таблицата.

## 4. Step-by-step Learning Path

1. **Разберете основите на хеш функциите**
   - Фокус: Как се създава и избира хеш функция.
   - Задача: Имплементирайте проста хеш функция за низове.
   - Въпроси: Какво прави една хеш функция добра? Защо е важно равномерното разпределение?

2. **Изучете методите за справяне с колизии**
   - Фокус: Разлика между chaining и open addressing.
   - Задача: Имплементирайте chaining в хеш таблица.
   - Въпроси: Какво се случва при колизия? Какви са предимствата на chaining спрямо open addressing?

3. **Анализирайте производителността и натоварването**
   - Фокус: Влиянието на load factor върху времето за достъп.
   - Задача: Направете експеримент с различни load factors и измерете времето за търсене.
   - Въпроси: Как load factor влияе на колизиите? Кога трябва да се разширява таблицата?

4. **Прилагайте хеш таблици в реални задачи**
   - Фокус: Използване на хеш таблици в кеширане, речници и AI системи.
   - Задача: Имплементирайте кеш с ограничен размер, използвайки хеш таблица.
   - Въпроси: Как хеш таблиците подобряват производителността на кеша? Къде в AI системите се използват?

## 5. Examples

### Пример 1: Имплементация на речник с хеш таблица (Python)

```python
class HashTable:
    def __init__(self, size=10):
        self.size = size
        self.table = [[] for _ in range(size)]

    def _hash(self, key):
        return hash(key) % self.size

    def insert(self, key, value):
        index = self._hash(key)
        for i, (k, v) in enumerate(self.table[index]):
            if k == key:
                self.table[index][i] = (key, value)
                return
        self.table[index].append((key, value))

    def get(self, key):
        index = self._hash(key)
        for k, v in self.table[index]:
            if k == key:
                return v
        return None

# Използване
ht = HashTable()
ht.insert("apple", 5)
print(ht.get("apple"))  # Изход: 5
```

### Пример 2: Кеширане на резултати в AI алгоритъм

В AI системи, като NLP модели, често се кешират резултати от скъпи изчисления:

```python
cache = {}

def expensive_computation(input_data):
    if input_data in cache:
        return cache[input_data]
    result = complex_model_predict(input_data)
    cache[input_data] = result
    return result
```

## 6. Common Pitfalls

- **Използване на неподходяща хеш функция** – води до много колизии и влошена производителност. Избирайте функции с добро разпределение.
- **Игнориране на колизиите** – неадекватното им обработване може да доведе до загуба на данни или грешки.
- **Прекалено висок load factor** – увеличава броя на колизиите и времето за достъп. Следете и разширявайте таблицата при нужда.
- **Пренебрегване на амортизираното време** – не всички операции са еднакво бързи, особено при разширяване на таблицата.
- **Неправилна обработка на ключове с еднакъв хеш** – винаги проверявайте ключа, а не само индекса.

## 7. Short Retrieval Quiz

1. Какво представлява хеш функцията и каква е нейната роля?
2. Какво е колизия и как се решава при chaining?
3. Как load factor влияе на производителността на хеш таблицата?
4. Кога е подходящо да се използва open addressing?
5. Как хеш таблиците подобряват производителността на кеширащите системи?
6. Какво означава амортизирано време за операция в контекста на хеш таблиците?
7. Какво може да се случи, ако не се обработват колизиите правилно?

## 8. Quick Recap

- Хеш таблиците осигуряват бърз достъп до данни чрез ключ-стойност двойки.
- Хеш функцията преобразува ключа в индекс, но може да предизвика колизии.
- Колизиите се решават чрез chaining или open addressing.
- Load factor влияе значително на производителността и трябва да се контролира.
- Хеш таблиците са широко използвани в кеширане, речници и AI системи.
- Изборът на правилна хеш функция и обработка на колизиите са критични.
- Амортизираното време отразява средната ефективност на операциите.

## 9. Spaced Review Plan

| Време след изучаване | Промпт за преговор                                      |
|----------------------|---------------------------------------------------------|
| 1 ден                | Обяснете какво е хеш таблица и как се справя с колизии.|
| 3 дни                | Избройте и опишете двата основни метода за обработка на колизии.|
| 1 седмица            | Как load factor влияе на производителността? Дайте пример.|
| 1 месец              | Приложете хеш таблица в реален кодов пример и обяснете избора на хеш функция.|