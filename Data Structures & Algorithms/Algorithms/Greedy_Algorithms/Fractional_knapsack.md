# Fractional_knapsack

## 1. Activate Prior Knowledge
- Какви алгоритми за оптимизация познавате и как те могат да се прилагат при разпределяне на ограничени ресурси?
- В контекста на системи за изкуствен интелект, как бихте подходили към задачата за максимизиране на полезността при ограничен капацитет?
- Какво знаете за разликите между дискретни и непрекъснати решения в алгоритмите за оптимизация?

## 2. Overview
Fractional knapsack е класически алгоритмичен проблем, който се използва за максимизиране на стойността на предмети, които могат да бъдат частично взети, при ограничен капацитет на раница. Тази задача е фундаментална за разбиране на жадни алгоритми (greedy algorithms) и има широко приложение в системи за оптимизация, логистика и изкуствен интелект.

В по-широк контекст, fractional knapsack се използва като подзадача в сложни системи за вземане на решения, където ресурсите са ограничени, а целта е да се постигне максимална ефективност. Той е важен, защото демонстрира как жадният подход може да доведе до оптимално решение при определени условия, което е ключово за проектиране на бързи и ефективни алгоритми.

Разбирането на fractional knapsack помага на студентите и професионалистите да изградят интуиция за алгоритмични стратегии, които балансират между точност и изчислителна сложност, особено в реални приложения като управление на ресурси, планиране и AI системи.

## 3. Key Concepts
- **Knapsack Problem** – Класически проблем за оптимално разпределяне на предмети с тегло и стойност в ограничена раница. Fractional knapsack позволява частично вземане на предмети, за разлика от 0/1 knapsack.
- **Greedy Algorithm** – Алгоритмичен подход, който взема локално оптимални решения с надеждата да достигне глобално оптимално решение. В fractional knapsack жадният метод е оптимален.
- **Value-to-Weight Ratio (Value Density)** – Отношението между стойността и теглото на предмета. Този коефициент определя реда, по който предметите се избират.
- **Fractional Selection** – Възможността да се вземе част от предмета, което позволява по-гъвкаво и оптимално използване на капацитета.
- **Capacity Constraint** – Ограничението на максималното тегло, което раницата може да побере. Това е ключов параметър, който определя решението.

## 4. Step-by-step Learning Path
1. **Разберете класическия knapsack problem**  
   - Фокус: Разлика между 0/1 knapsack и fractional knapsack.  
   - Задача: Прочетете и сравнете двата проблема.  
   - Въпроси: Какво ограничава избора в 0/1 knapsack? Защо fractional knapsack е по-лесен за решаване?

2. **Научете жадния подход**  
   - Фокус: Как работи greedy алгоритъмът при fractional knapsack.  
   - Задача: Напишете псевдокод за жадния алгоритъм.  
   - Въпроси: Как определяте кой предмет да вземете първо? Защо жадният подход работи тук?

3. **Имплементирайте алгоритъма на практика**  
   - Фокус: Сортиране по value-to-weight ratio и частично вземане.  
   - Задача: Напишете функция на Python или друг език, която решава fractional knapsack.  
   - Въпроси: Какво се случва, когато капацитетът не позволява да вземете целия предмет?

4. **Анализирайте сложността и ограниченията**  
   - Фокус: Времева сложност и случаи, в които жадният алгоритъм не е оптимален.  
   - Задача: Изследвайте какво се случва при 0/1 knapsack.  
   - Въпроси: Защо жадният алгоритъм не работи за 0/1 knapsack? Каква е времевата сложност на вашата имплементация?

5. **Приложете fractional knapsack в реален сценарий**  
   - Фокус: Оптимизация на ресурси в софтуерна система или AI модел.  
   - Задача: Моделирайте проблем с ограничени ресурси и решете с fractional knapsack.  
   - Въпроси: Какъв е ефектът от частичното вземане на ресурси върху цялостната производителност?

## 5. Examples

### Пример 1: Основен fractional knapsack
Имаме предмети с тегла и стойности:

| Предмет | Тегло | Стойност |
|---------|--------|----------|
| A       | 10     | 60       |
| B       | 20     | 100      |
| C       | 30     | 120      |

Капацитетът на раницата е 50.

```python
def fractional_knapsack(values, weights, capacity):
    index = list(range(len(values)))
    ratio = [v/w for v, w in zip(values, weights)]
    index.sort(key=lambda i: ratio[i], reverse=True)

    max_value = 0
    fractions = [0]*len(values)
    for i in index:
        if weights[i] <= capacity:
            fractions[i] = 1
            max_value += values[i]
            capacity -= weights[i]
        else:
            fractions[i] = capacity / weights[i]
            max_value += values[i] * fractions[i]
            break
    return max_value, fractions

values = [60, 100, 120]
weights = [10, 20, 30]
capacity = 50

max_val, fracs = fractional_knapsack(values, weights, capacity)
print(f"Максимална стойност: {max_val}")
print(f"Взети части: {fracs}")
```

### Пример 2: Оптимизация на ресурсите в AI система
Представете си, че имате ограничен бюджет за изчислителна мощност и различни AI модели с различна цена и очаквана полза. Fractional knapsack може да помогне да разпределите бюджета, като изберете частично модели с най-добър "полза/цена" коефициент.

## 6. Common Pitfalls
- **Игнориране на сортирането по value-to-weight ratio** – без правилното сортиране алгоритъмът няма да е оптимален.
- **Опит за прилагане на жадния алгоритъм към 0/1 knapsack** – жадният подход не гарантира оптимално решение при дискретни предмети.
- **Пропускане на частичното вземане** – когато капацитетът не достига за целия предмет, трябва да се вземе част от него.
- **Неправилно изчисляване на частите** – деленето на капацитета трябва да бъде точно, за да се избегнат грешки в стойността.
- **Неотчитане на типове данни** – при работа с дробни стойности е важно да се използват подходящи типове за прецизност.

## 7. Short Retrieval Quiz
1. Какво отличава fractional knapsack от 0/1 knapsack?
2. Защо жадният алгоритъм е оптимален при fractional knapsack?
3. Как се определя редът на избор на предмети?
4. Какво правим, ако капацитетът не позволява да вземем целия предмет?
5. Каква е времевата сложност на жадния алгоритъм за fractional knapsack?
6. Кога жадният подход не е подходящ за knapsack проблем?
7. Какъв е основният параметър, който ограничава избора на предмети?

## 8. Quick Recap
- Fractional knapsack позволява частично вземане на предмети за максимизиране на стойността при ограничен капацитет.
- Жадният алгоритъм е оптимален за този проблем, защото винаги избира предмета с най-висок коефициент стойност/тегло.
- Сортирането по value-to-weight ratio е ключова стъпка.
- Когато капацитетът е недостатъчен, взема се част от предмета.
- Алгоритъмът има времева сложност O(n log n) заради сортирането.
- Жадният подход не работи за 0/1 knapsack, където предметите не могат да се разделят.
- Fractional knapsack е полезен модел за оптимизация в AI и инженерни системи.

## 9. Spaced Review Plan

| Време след учене | Промпт за преговор                                   |
|------------------|-----------------------------------------------------|
| 1 ден            | Обяснете разликата между fractional и 0/1 knapsack.|
| 3 дни            | Опишете жадния алгоритъм и защо е оптимален тук.   |
| 1 седмица        | Имплементирайте алгоритъм за fractional knapsack.  |
| 1 месец          | Приложете fractional knapsack в реален инженеринг сценарий. |